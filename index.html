<html>
  <head>
    <script src="https://cdn.plot.ly/plotly-2.12.1.min.js"></script>
  </head>

  <div id="tester" style="width: 1600px; height: 1250px"></div>

  <script>
    (async function () {
      TESTER = document.getElementById("tester");

      const all = await (await fetch("allstations.json")).json();

      var data = [
        {
          type: "scattermapbox",
          text: all.map((o) => o.name),
          lon: all.map((o) => o.lon),
          lat: all.map((o) => o.lat),
          marker: { color: "fuchsia", size: 4 },
        },
      ];

      var layout = {
        dragmode: "zoom",
        mapbox: {
          style: "open-street-map",
          center: { lat: 38, lon: -90 },
          zoom: 3,
        },
        margin: { r: 0, t: 0, b: 0, l: 0 },
      };

      Plotly.newPlot(TESTER, data, layout);
    })();
  </script>
</html>
